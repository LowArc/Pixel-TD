print("Welcome to Arc Hub!!!")
---@diagnostic disable: undefined-global
if _G.Teleport then
    if game.PlaceId == 15939808257 then
        local plr = game.Players.LocalPlayer
        local char = plr.Character or plr.CharacterAdded:Wait()
        if char then
           char.HumanoidRootPart.CFrame = CFrame.new(-195.253525, 506.166351, -54.2872314, -0.326850981, -3.64183954e-08, -0.94507587, 8.47201562e-08, 1, -6.7835046e-08, 0.94507587, -1.02238928e-07, -0.326850981) 
           task.wait(2.5)
            game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("ElevatorService"):WaitForChild("RF"):WaitForChild("Start"):InvokeServer("Haunted Graveyard-2")
        end
    end
end


spawn(function ()
    while game:GetService("RunService").RenderStepped:Wait() do
        warn("Selecting Difficulties...")
        local Wave = tonumber(string.match(game.Players.LocalPlayer.PlayerGui.MainUI.GameInfo.Wave.Text, "%d+"))
        wait(.1)
        if Wave == 1 or Wave == 0 then
            game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("WaveService"):WaitForChild("RF"):WaitForChild("SpeedUp"):InvokeServer()
            game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("WaveService"):WaitForChild("RF"):WaitForChild("AutoSkip"):InvokeServer()
            break
        elseif Wave == nil then
            wait()
        else
            warn("????")
            task.wait(10)
            game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("ElevatorService"):WaitForChild("RF"):WaitForChild("Join"):InvokeServer("Haunted Graveyard-3", "Haunted Graveyard", "Repeat")
        end
    end
    warn("Starting AutoFarm...")
    while game:GetService("RunService").RenderStepped:Wait() do
        if _G.AutoFarm then
            pcall(function ()
                local money = game.Players.LocalPlayer.leaderstats.Money.Value
                local Time = game.Players.LocalPlayer.PlayerGui.MainUI.GameInfo.Time.Text
                local PlacedUnits = game.Workspace.Game.Map.PlacedUnits
                for i = 1, _G.MaxPlace do
                    if money >= _G.StarterUnitCost then
                        game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("UnitService"):WaitForChild("RF"):WaitForChild("PlaceUnit"):InvokeServer(_G.UnitName, CFrame.new(-13197.5928, 588.618103, 2912.40747, 0.284692317, -0.0886694118, -0.954509377, 0.297367632, 0.954763055, 0, 0.911330163, -0.28384015, 0.298181146))
                        task.wait(5)
                        print("1")
                    end
                end
                for _,v in ipairs(PlacedUnits:GetChildren()) do
                    if v then
                        game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("UnitService"):WaitForChild("RF"):WaitForChild("UpgradeUnit"):InvokeServer(v)
                        wait(1)
                        print("2")
                    end
                end
            end)
        end
    end
end) --## สำรอง

spawn(function ()
    print("AutoVote Running...")
    while game:GetService("RunService").RenderStepped:Wait() do
        game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("VotingService"):WaitForChild("RF"):WaitForChild("Vote"):InvokeServer(_G.Difficulty)
        game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("VotingService"):WaitForChild("RF"):WaitForChild("Start"):InvokeServer()
        wait(1)
        local Difficulty = game.Players.LocalPlayer.PlayerGui.MainUI.Stats.Left.Difficulty.Value.Text
        if Difficulty then
            if string.upper(_G.Difficulty) ~= Difficulty then
                game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("ElevatorService"):WaitForChild("RF"):WaitForChild("Join"):InvokeServer("Haunted Graveyard-3", "Haunted Graveyard", "Repeat")
            end
        end
    end
end)

spawn(function ()
    local ResultsGUI = game.Players.LocalPlayer.PlayerGui.MainUI.Frames.Results
    while game:GetService("RunService").RenderStepped:Wait() do
        if ResultsGUI.Visible == true then
            game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_knit@1.7.0"):WaitForChild("knit"):WaitForChild("Services"):WaitForChild("ElevatorService"):WaitForChild("RF"):WaitForChild("Join"):InvokeServer("Haunted Graveyard-3", "Haunted Graveyard", "Repeat")
            print("Replaying")
            break
        else
            wait(1)
        end
    end
end)
